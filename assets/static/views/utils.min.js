Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(let c in b)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a};
function hasPerms(a,b){if("super"===a.level)return!0;let c=!1;for(let d in b)if(-1!==a.perm_names.indexOf(b[d])){c=!0;break}return c}function isManager(a){return"super"===a.level||"master"===a.level}
var format_date=function(a,b){a={"y+":a.getFullYear(),"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),"S+":a.getMilliseconds()};for(var c in a)if((new RegExp("("+c+")")).test(b))if("y+"===c)b=b.replace(RegExp.$1,(""+a[c]).substr(4-RegExp.$1.length));else if("S+"===c){var d=RegExp.$1.length;d=1===d?3:d;b=b.replace(RegExp.$1,("00"+a[c]).substr((""+a[c]).length-1,d))}else b=b.replace(RegExp.$1,1===RegExp.$1.length?a[c]:
("00"+a[c]).substr((""+a[c]).length));return b};function bytesToSize(a){if(!a||"0"===a)return 0;a=Number(a);if(0===a)return"0 Byte";let b=Number(Math.floor(Math.log(a)/Math.log(1024)));return Math.round(a/Math.pow(1024,b),2)+" "+["bytes","K","M","G","T"][b]}function bpsToSize(a){a=Number(a);if(0===a)return"0 bps";let b=Number(Math.floor(Math.log(a)/Math.log(1E3)));return Math.round(a/Math.pow(1E3,b),2)+" "+["bps","Kbps","Mbps","Gbps","Tbps"][b]}
function doPost(a,b){let c=document.createElement("FORM");document.body.appendChild(c);c.method="post";c.action=a;c.style.display="none";for(let d in b)"submit"!==d&&(a=document.createElement("input"),a.name=d,a.value=b[d],c.appendChild(a));c.submit()}function checkURL(a){return!0===(new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/)).test(a)}
function isMobileDevice(){var a=navigator.userAgent.toLowerCase();let b="ipad"===a.match(/ipad/i),c="iphone os"===a.match(/iphone os/i),d="midp"===a.match(/midp/i),e="rv:1.2.3.4"===a.match(/rv:1.2.3.4/i),f="web"===a.match(/ucweb/i),g="windows ce"===a.match(/windows ce/i),h="windows mobile"===a.match(/windows mobile/i);a="android"===a.match(/android/i);return b||c||d||e||f||g||h||a}function concat2(a,b){return a.concat(b.filter(function(c){return!(-1<a.indexOf(c))}))}
function second2Str(a){if(3600>a)return a=Math.floor(a/60),a+"\u5206\u949f";if(86400>a&&3600<=a)return a=Math.floor(a/60/60),a+"\u5c0f\u65f6";if(86400<=a)return a=Math.floor(a/60/60/24),a+"\u5929"}function date2str(a,b){let c=function(d){return 10>d?"0"+d:d};a.getFullYear();c(a.getMonth()+1);c(a.getDate());c(a.getHours());c(a.getMinutes());c(a.getSeconds());return b.replace(/(y+|M+|d+|h+|m+|s+)/g,function(d){return((1<d.length?"0":"")+eval("z."+d.slice(-1))).slice(-(2<d.length?d.length:2))})}
function toDecimal2(a){var b=parseFloat(a);if(isNaN(b))return!1;b=Math.round(100*a)/100;a=b.toString();b=a.indexOf(".");0>b&&(b=a.length,a+=".");for(;a.length<=b+2;)a+="0";return a}function fenToYuan(a){a=.01*a+"";let b=-1<a.indexOf(".")?/(\d{1,3})(?=(?:\d{3})+\.)/g:/(\d{1,3})(?=(?:\d{3})+$)/g;a=a.replace(b,"$1");return a=toDecimal2(a)}
function yuanToFen(a,b){let c=0;a=a.toString();b=b.toString();try{c+=a.split(".")[1].length}catch(d){}try{c+=b.split(".")[1].length}catch(d){}return Number(a.replace(".",""))*Number(b.replace(".",""))/Math.pow(10,c)}function checkTwoPointNum(a){return/^-?\d+\.?\d{0,2}$/.test(a)}function removeFromArray(a,b){for(let c=0;c<a.length;c++)a[c]===b&&a.splice(c,1)}
function syntaxHighlight(a){"string"!=typeof a&&(a=JSON.stringify(a,void 0,2));a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return a.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(b){let c="number";/^"/.test(b)?c=/:$/.test(b)?"key":"string":/true|false/.test(b)?c="boolean":/null/.test(b)&&(c="null");return'<span class="'+c+'">'+b+"</span>"})}
function warpString(a,b){if(!a)return"";if(a.length<b)return a;if(a.length>b)return a.substring(0,b)+"..."}function warpRemark(a){return warpString(a.remark,16)};
